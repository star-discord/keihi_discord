# Discord用 経費申請Bot

## 概要
Discord上で簡単に経費申請を行えるBotです。  
案内メッセージのボタン操作で申請フォームを開き、申請内容を月別スレッドに整理して投稿します。

---

## 実装コマンド一覧

### /setti  
経費申請の案内メッセージを送信します。  
テキストチャンネル限定コマンドです。

### /仕様書  
経費申請Botの仕様書（最新版）を表示します。

---

## 主な機能

- /setti で案内メッセージと「経費申請する」ボタンを表示  
- ボタン押下でモーダルフォームが開き、申請内容（経費項目、金額、備考）を入力  
- 申請内容は「経費申請-YYYY-MM」という月別のスレッドに投稿  
- 投稿時は申請者の@メンション付きで名前を表示（ユーザー名変更対応）  
- 申請ログを元のテキストチャンネルに日時、ユーザー名（@メンション）、スレッド内メッセージのリンク付きで投稿  
- 申請後は案内メッセージとボタンを再表示（古い案内メッセージは自動削除）  
- エラーハンドリングあり

---

## 操作フロー

1. /setti をテキストチャンネルで実行  
2. 表示されたボタン「経費申請する」を押す  
3. モーダルで必要項目を入力  
4. 申請内容が月別スレッドに投稿され、申請ログがチャンネルに投稿される  
5. 案内メッセージ＋ボタンが最新状態で表示される

---

## 注意点

- /settiコマンドはテキストチャンネル内でのみ使用可能です  
- 月別スレッドは「経費申請-YYYY-MM」のみを作成し使い回します  
- 名前は@メンション形式で表示されるため、ユーザー名が変更されてもリンクは維持されます  
- 備考欄は任意入力で、未入力時は「-」として表示されます  
- 申請者への確認の非公開メッセージ送信は行いません  
- 不具合や質問は redstar hr (redstar.hoshir@gmail.com) までお問い合わせください

---

## 更新履歴

- 2025/06/27 テストバージョン作成 redstar hr

---

## 動作環境

- Node.js 16以上推奨  
- discord.js v14  
- .env にDISCORD_TOKEN, CLIENT_ID, PORT等を設定

---